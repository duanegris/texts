<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>tp-rpc</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="tp-rpc"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-10-13 14:22:17 CEST"/>
<meta name="author" content="Stephane Genaud"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">tp-rpc</h1>



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Exercice 1</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Exercice 1</h2>
<div class="outline-text-2" id="text-1">

<p>Compiler puis tester l'exemple se trouvant dans le répertoire <code>PremierExemple</code>. 
Utiliser la commande  
Constater que votre serveur est enregistré au niveau du serveur de liaison avec 
la commande : <code>/usr/sbin/rpcinfo -p</code>. Le numéro de programme en décimal de 
votre service est 536871168.
</p>
<p>
L'affichage sur un PC : 
client : 
    variable n (debut) : 1094861636 DCBA, 
    client :    variable        n       ( fin ) :       1094861636, client :    variable        res     :       1094861637
==&gt;     
</p>
<p>
L' affichage de la premiere ligne différe sur une SPARC (Machine SUN) : client : variable n (debut) : 1094861636 ABCD,
Affichage : serveur :   variable serveur :      variable serveur :      variable
n       (debut) :       1094861636, n   ( fin ) :       1094861637,
res     :       1094861637
Questions : 1.1) Dans le serveur pourquoi déclarer la variable 'res' static ? 1.2) Expliquez pourquoi l'a􏰡chage au niveau du client est di􏰞érent selon que l'on utilise une SPARC ou un PC. 1.3) Pourquoi la valeur 􏰟nale de (*n) est di􏰞érente sur le serveur et sur le client ? 1.4) Dans le Make􏰟le, expliquer la ligne de compilation gcc -Wall -o client client.c -lrpcsvc -lnsl
Exercice 2
Dé􏰟nir un appel RPC qui permette de calculer, de facon distante, la division entière d'un nombre par un autre. Le serveur de calcul (qui est responsable de la division) se trouvera sur votre machine. Vous exécuterez le client depuis une autre machine. Pour cela, il est possible de garder en permanence une fenêtre sur cette autre machine avec la commande ssh votreLogin@machineDuVoisin. Vous éditerez, compilerez les 􏰟chiers sources sur votre machine. Les sources pour débuter cet exercice se trouvent dans le répertoire DiviseExercice.
ATTENTION: ces 􏰟chiers sources ne sont pas 􏰓corrects􏰔. Il faut remplacer les 􏰓????􏰔 par du code C. Expliquer la ligne de compilation gcc -o serveur serveur.o xdr<sub>entiers2</sub>.o -lnsl
Exercice 3
On désire implanter un serveur de calcul sur des matrices 2X2 à coe􏰡cients réels qui o􏰞re comme service la multipli- cation de deux matrices. Mettre en place un tel serveur sur votre machine.
Exercice 4
Ajouter le service : addition de deux matrices. Le client o􏰞rira la possibilité d'appeler le service de multiplication ou d'addition, au choix.
Exercice 5
Reprenez les exercices 4 et 5 en considérant que les matrices à multiplier peuvent être NxN. Mettez en évidence qu'il existe un time-out (au niveau du client) et une retransmission lorsque l'appel de fonction distant prend un peu de temps.
</p></div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2013-10-13 14:22:17 CEST</p>
<p class="author">Author: Stephane Genaud</p>
<p class="creator">Org version 7.9.3f with Emacs version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
