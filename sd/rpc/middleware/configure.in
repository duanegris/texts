<<<<<<< configure.in
dnl $Id: configure.in,v 2.0 2009/02/01 09:46:47 ia Exp $
=======
dnl $Id: configure.in,v 2.0 2009/02/01 09:46:47 ia Exp $
>>>>>>> 1.1.2.2

dnl ##############################################################
dnl #### Initialization

AC_INIT(Makefile.am)
AM_INIT_AUTOMAKE(fokon-mw,2007-03b)
AC_PREFIX_DEFAULT([/usr/local/fokon-middleware])

dnl ##############################################################
dnl #### check host configuration

fokon_includes="-I./tmp -I../../src/utils -I../../src/lib"

dnl #### generate config.h  for C   sources
dnl ####          config.hh for C++ sources
dnl m4_include(../../tacdialect.m4)
TA_INIT(config.h)

dnl ## config.hh
TA_PUSH_LANG(C++,,[
#ifdef __cplusplus
    using namespace std;
#endif])
TA_FUNC_BASE
TA_FUNC_SYS
TA_FUNC_PIDGRP
TA_POP_LANG(config.hh)
CXXFLAGS="-Wall $cxxdialect $CXXFLAGS $fokon_includes"

dnl ## config.h
TA_PUSH_LANG(C)
TA_FUNC_BASE
TA_FUNC_SYS
TA_FUNC_NET
TA_FUNC_PIDGRP
TA_POP_LANG()
CFLAGS="-Wall $cdialect $CFLAGS $fokon_includes"

dnl ##############################################################
dnl #### user options

dnl #-------------------------------------------------------------
AC_ARG_WITH(extralibs,
  AC_HELP_STRING([--with-extralibs="opt0 opt1 ..."],
    [add opti when programs are linked.]),
  [AC_SUBST(extralinkflags,$withval)],
  [AC_SUBST(extralinkflags,"")]
)

dnl ##############################################################
dnl #### generation of the outputs

AC_OUTPUT(
    Makefile
)
