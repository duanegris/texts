
Comment compiler et exécuter l'exemple WorCount.java en mode standalone
=======================================================================

Remarque générale : si des problèmes se produisent à l'exécution (par exemple
des messages disant qu'il n'y a pas assez de mémoire, ou qu'hadoop ne trouve
pas java), la raison la plus probable est que la configuration n'est pas adaptée.

Cette configuration se trouve dans le fichier: hadoop-env.sh
situé dans /etc pour une installation par package, dans conf/ pour une installation
par archive.



A. Avec une distribution 0.20.0
===============================

Supposons que vous téléchargez et décomprésser l'archive hadoop dans votre $HOME directory.

 $ export HADOOP_VERSION=0.20.2
 $ export HADOOP_HOME=$HOME/hadoop-${HADOOP_VERSION}/
 $ export PATH=$HADOOP_HOME/bin/:$PATH


 $ mkdir wordcount_classes


 $ javac -classpath ${HADOOP_HOME}/hadoop-core-${HADOOP_VERSION}.jar:$HADOOP_HOME/lib/commons-cli-1.2.jar -d wordcount_classes WordCount.java
 $ jar -cvf wordcount.jar -C wordcount_classes/ .


 $ export JAVA_HOME=/usr/lib/jvm/java-6-openjdk/                               # Linux ubuntu 10.4
 $ export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/  # MacOSX récent


 $ cat > input
   <some text>
   ^D
 
 $  ${HADOOP_HOME}/bin/hadoop jar wordcount.jar WordCount input output     


B. Avec une distribution 0.20.204.0 fournie en .deb
===================================================

  Récuper et installer avec gdebi le package à partir de :
  http://mirrors.ircam.fr/pub/apache//hadoop/core/hadoop-0.20.204.0/

  Modifier votre .bashrc:

	export HADOOP_HOME=/usr/share/hadoop/                                           
	export HADOOP_VERSION=0.20.204.0       

  Reprendre le point A. au mkdir


