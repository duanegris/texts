<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
<title>Web services REST</title>
<!-- metadata -->
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.1" />
<meta name="presdate" content="20101208" />
<meta name="author" content="S. Genaud" />
<meta name="company" content="Université de Strasbourg" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<!-- theme 'i18n' instead of 'default' -->
<link rel="stylesheet" href="ui/i18n/slides.css" type="text/css" media="projection" id="slideProj" /> 

<!--<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />-->
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />

<link type="text/css" rel="stylesheet" href="sh/css/shCore.css">
<link type="text/css" rel="stylesheet" href="sh/css/shThemeEclipse.css">

<!-- embedded styles -->
<style type="text/css" media="all">
.imgcon {width: 525px; margin: 0 auto; padding: 0; text-align: center;}
#anim {width: 270px; height: 320px; position: relative; margin-top: 0.5em;}
#anim img {position: absolute; top: 42px; left: 24px;}
img#me01 {top: 0; left: 0;}
img#me02 {left: 23px;}
img#me04 {top: 44px;}
img#me05 {top: 43px;left: 36px;}

.important { color : red; }

table.list { border-spacing : 3px; 
             margin-left: auto; 
             margin-right : auto; /* pour centrer la table */ 
           }
tr.list    { background-color : #eee59a; font : fixed; }
th.list    { background-color : #c2ddeb; }
td.list    { background-color : #eee59a; margin : 3px; 
        font-family : courier ; font-size : 12pt;}


.listing pre { 
	     padding: 0; margin: 0; 
           background-color : #c2ddeb; 
           font-size : 90%; 
           border-bottom: 1px solid #000;
           border-top   : 1px solid #000;
           width: 100%; position: relative;
}
</style>


<!-- Syntax Highlighter -->
<script type="text/javascript" src="sh/js/shCore.js"></script>
<script type="text/javascript" src="sh/js/shBrushPhp.js"></script>
<script type="text/javascript" src="sh/js/shBrushXml.js"></script>
<script type="text/javascript" src="sh/js/shBrushPerl.js"></script>
<script type="text/javascript" src="sh/js/shBrushJava.js"></script>

<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>
</head>


<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>October&#8226; 2010</h1>
<h2>Les Web services - REST</h2>
</div>
</div>

<div class="presentation">

<div class="slide">
<h1>Les Web services</h1>
<h4><a href="http://icps.u-strasbg.fr/~genaud">Stéphane Genaud</a></h4>
</div>


<div class="slide">
<h1>Introduction</h1>

<p>
Le W3C définit un <i>Web service</i>: 
&ldquo;
<i>a software system designed to support interoperable machine-to-machine interaction over a network.</i>
&rdquo;
</p>

<p>Le W3C distingue 2 types de web services:
<ul>
<li><b>REST</b>-compliant: manipulation de resources à travers un ensemble uniforme d'<b>opérateurs</b> ne nécessitant pas d'information d'état.</li>
<li><b>Arbitrary</b>: un ensemble quelconque d'opérations peut être proposé.</li>
</ul>
</p>

<br/>
<p>
<i>Les services web arbitrary, avec SOAP, sont présentés <a href="web-services.html">ici</a></i>.
</p>

</p>

</div>

<!-- ______________________ REST : Principes  __________________________ -->
<div class="slide">
<h1>REST : principes</h1>
<p>
<i>Representational State Transfer</i> (REST) définit quelques principes simples pour concevoir
des systèmes distribués de type hyper-média (comme le world wide web).
</p>
<p>
Une architecture REST :
<ul>
	<li>est <b>client/server</b>: un client initie les requêtes vers les serveurs.</li>
	<li>les requêtes et réponses manipulent des <b>représentations</b> de <b>ressources</b>.</li>
	<li>un client change son état comme un automate à états fini. 
	Ses requêtes provoquent des transitions, et entre deux requêtes il est "at rest" : 
	peut interagir avec l'utilisateur mais n'utilise pas de bande passante et est déconnecté du serveur)
	</li>
</ul>

</p>
</div>
<!-- ______________________ REST : Principes  __________________________ -->

<div class="slide">
<h1>REST : principes</h1>
<p>
Pour qu'un système puisse être qualifié de RESTful, il faut les caractéristiques suivantes:
<ul>
	<li>Client/Server: les interfaces doivent être le seul point de communication (indépendance)</li>
	<li>Stateless : pas de contexte stocké sur le serveur entre les requêtes (la réponse est complète à chaque requête).
		Le serveur peut au contraire maintenir un état, mais qui doit être accessible via une URL.</li>
	<li>Relais: un client ne doit pas savoir si il est connecté au serveur final directement ou passe par des intermédaires (load-balancing, shared caches)</li> 
	<li>Cache : les réponses doivent être  marquées par le serveur comme <i>cachables</i> ou non.</li>
	<li>Interface uniforme: les éléments échangés entre serveur et client ont les caractéristiques invariables suivantes (../..)</li>
</ul>
</div>

<div class="slide">
<h1>REST : principe Interface Uniforme</h1>

<ul>
<li>Interface uniforme: les éléments échangés entre serveur et client respectent:
		<ul>
			<li>Toutes les ressources identifiables de manière unique (URIs)</li>
			<li>Manipulation des ressources à travers leurs représentations
			    (e.g le serveur n'evoie pas une BD mais un document en représentant une partie, 
				l'utilisateur peut modifier ces élément, altérant la BD côté serveur)<br/> 
				</li>
			<li>Messages auto-suffisants: contiennent toutes les informations pour leur traitement <br/>
			    (e.g le parser nécessaire ) </li>
			<li>Transitions assurées par des hyperliens</li>
		</ul>
	</li>
</ul>

</p>
</div>

<!-- ______________________ Exemple de ressource __________________________ -->
<div class="slide">
<h1>Exemple de ressource</h1>

<p>
Soit un système d'interrogation météorologique, composée de 
<b>ressources</b>. On peut <b>désigner</b> et obtenir une 
<b>représentation</b> de chaque ressource.
</p>


<img style="margin:auto" src="ressource.png" alt="ressource"/>


<p>
<small>figure empruntée à Jean-Paul Figer</small>
</p>
</div>

<!-- ______________________ Exemple de ressource __________________________ -->
<div class="slide">
<h1>Exemple de ressource </h1>

<p>
On peut décider que cliquer sur 
<a href="http://fr.weather.com/weather/today-Paris-FRXX0076">http://fr.weather.com/weather/today-Paris-FRXX0076</a> signifie la demande d'une représentation de la resource.
</p>

<p>
On obtient
<div class="listing" style="font-size : 70%">
<pre class="brush:xml">
Date: Fri, 16 Jan 2009 22:16:10 GMT
Server: Apache
Content-Language: fr-FR
Keep-Alive: timeout=1, max=7482
Connection: Keep-Alive
Content-Type: text/html;charset=UTF-8
Cache-Control: private
Content-Encoding: gzip
Transfer-Encoding: chunked

200 OK
</pre>
</p>
</div>

</div>


<!-- ______________________ Exemple de ressource __________________________ -->
<div class="slide">
<h1>Les opérateurs</h1>

<p>
Les opérateurs sont les <b>interfaces uniformes</b> proposées par le serveur.
</p>
<p>
L'application d'un opérateur sur une resource peut être vue comme la transition
qui fait passer le système d'un état à un autre.
</p>


<p>
Dans de très nombreux cas, les opérateurs peuvent se limiter à CRUD.
</p>

<p>
Dans ce cas, l'implémenation avec HTTP peut être la suivante.
</p>

<small>
<table border="1" cellpadding="3" cellspacing="0">
	<tbody><tr> <th>HTTP Method</th> <th>CRUD Action</th> <th>Description</th></tr>

			<tr> <td>POST</td>        <td>CREATE</td>      <td>Création d'une nouvelle ressource</td> </tr>
			<tr> <td>GET</td>         <td>RETRIEVE</td>    <td>Obtenir la représentation d'une resource</td> </tr>

			<tr> <td>PUT</td>         <td>UPDATE</td>      <td>Modifie la ressource</td> </tr>
			<tr> <td>DELETE</td>      <td>DELETE</td>      <td>Supprime la ressource</td> </tr>

		</tbody></table>
</small>

</div>


<!-- ______________________ Exemple de ressource __________________________ -->
<div class="slide">
<h1>Les opérateurs</h1>

<ul>
<li>Exemple: Yahoo! Maps Web Services.
<a href="http://developer.yahoo.com/maps/rest/V1/">API REST</a><br/>

Simple, uniquement des GET.<br/>
Opération pour obtenir une carte à partir d'une adresse.
	<ol>
		<li>GET : 
		<a href="http://local.yahooapis.com/MapsService/V1/mapImage?appid=ZyLTte3e&city=Illkirch&country=France">http://local.yahooapis.com/MapsService/V1/mapImage?appid=ZyLTte3e&city=Illkirch&country=France</a>
		</li>
		<li>Le résultat est un fichier XML contenant l'URL vers la carte.</li>
	</ol>
</ul>

</div> <!-- ********** div final ************* -->
</body>


<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
<script type="text/javascript">
     SyntaxHighlighter.all()
</script>

</html>

