<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Les tableaux</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Notes de cours Apache+PHP+MySQL"
HREF="index.html"><LINK
REL="UP"
TITLE="PHP"
HREF="c82.html"><LINK
REL="PREVIOUS"
TITLE="PHP"
HREF="c82.html"><LINK
REL="NEXT"
TITLE="Les fonctions"
HREF="x279.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Notes de cours Apache+PHP+MySQL</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c82.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. PHP</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x279.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="AEN237"
>3.2. Les tableaux</A
></H1
><P
>&#13;Les tableaux PHP sont des tableaux <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>associatifs</I
></SPAN
>, 
c'est-√†-dire que ce sont des listes d'associations entre une cl√©
et une valeur. Cette notion est plus g√©n√©rale que celle de tableau
simple que l'on rencontre habituellement : les tableaux simples
associent uniquement des positions (m√©moire) √† une valeur.
On acc√®de habituellement dans ce cas, √† un √©l√©ment du tableau par une
notation crochet : t[i] d√©signe le i-√®me √©l√©ment du tableau (i entier).
</P
><P
>&#13;Le tableau simple est un cas particulier du tableau associatif (o√π la cl√©
est la position dnas le tableau). Par cons√©quent PHP autorise bien s√ªr
l'utilisation de tableaux simples.
</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN242"
>3.2.1. Enum√©rations</A
></H2
><P
>&#13;Un tableau peut servir √† √©num√©rer un ensemble fixe d'√©l√©ments.
Dans ce cas, le tableau PHP est cr√©√© avec la primitive <B
CLASS="command"
>array()</B
>
<PRE
CLASS="programlisting"
>&#13;   array( [cl√© =&#62;] valeur , ... )
</PRE
>

o√π <CODE
CLASS="varname"
>cl√©</CODE
> est une cha√Æne ou un entier, 
<CODE
CLASS="varname"
>valeur</CODE
> peut √™tre de n'importe quel type.
</P
><P
>&#13;La cl√© est optionnelle, si bien qu'on que si l'on ne la pr√©cise
pas, on obtient un tableau simple. Dans ce cas, une num√©rotation
implicite des √©l√©ments de tableau √† partir de 0 prend place.
</P
><P
>Voici deux exemples de dÈclaration de tableaux :
<PRE
CLASS="programlisting"
>&#13;$t1 = array( 'version' =&#62; 4 , 
             'OS'      =&#62; 'Linux',
             'name'    =&#62; 'app1');

$t2 = array( 'pierre',
             'jean',
             'max');
</PRE
>
</P
><P
>&#13;Dans la deuxi√®me d√©claration, les √©l√©ments ont automatiquement
un cl√© qui est le num√©ro de l'√©l√©ment. Dans ce cas, t2[1] d√©signe
la cha√Æne 'jean'.
Dans la premi√®re d√©claration, on peut acc√©der aux √©l√©ments par une
notation comme : t1['OS'], qui vaut 'Linux'.
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN253"
>3.2.2. D√©claration et affectation</A
></H2
><P
>&#13;A l'instar des autres variables, on ne d√©clare pas les tableaux en PHP.
L'interpr√©teur PHP inf√®re qu'une variable est de type tableau d√®s que la notation
crochets ( [ ] ) est utilis√©e.
</P
><P
>&#13;L'affectation se fait directement avec la notation crochets, sans avoir besoin d'allouer
explicitement d'espace m√©moire pour le stockage :
<PRE
CLASS="programlisting"
>&#13;
 $tableau[0]="msg1";

</PRE
>
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN258"
>3.2.3. Parcours</A
></H2
><P
>&#13;Habituellement, dans un langage imp√©ratif, le parcours d'un tableau
est d√©crit par une boucle allant du premier indice au dernier indice
du tableau. En PHP, on peut aussi utiliser cette construction (on fait appel √† la primitive
<B
CLASS="command"
>count()</B
> qui donne le nombre d'√©l√©ments d'un tableau) :
<PRE
CLASS="programlisting"
>&#13; for ($i=0;$i&#60;count($t2);$i++) {
     echo "$t2[$i]";
 }
</PRE
>
</P
><P
>&#13;Il existe cependant des primitives plus √©labor√©es.
</P
><P
>&#13;Ces primitives utilisent en interne un pointeur qui indique
o√π en est le parcours du tableau. Ce pointeur est invisible et
inaccessible au programmeur. La fonction <B
CLASS="command"
>reset($tableau)</B
>
permet de remettre le pointeur au d√©but du tableau.
</P
><P
>&#13;On peut utiliser la fonction <B
CLASS="command"
>each($tableau)</B
> qui prend
prend l'√©l√©ment pr√©sent √† la position courante du pointeur et le renvoie.
Le pointeur progresse automatiquement √† la prochaine position du tableau.

<PRE
CLASS="programlisting"
>&#13; reset($t2);
 while ($valeur = each($t2)) {
    echo "Valeur: $valeur";
  }
</PRE
>
Attention, si le tableau est associatif (comme <CODE
CLASS="varname"
>$t1</CODE
>),
i.e. chaque √©l√©ment est une paire
(cl√©,valeur), c'est cette paire qui est renvoy√©e par <B
CLASS="command"
>each()</B
>.
Pour lister les valeurs uniquement, on peut utiliser <B
CLASS="command"
>list()</B
>
qui permet de ne s√©lectionner que certains √©l√©ments d'un n-uplet.
</P
><P
>&#13;<PRE
CLASS="programlisting"
>&#13; reset($t1);
 while (list(, $valeur) = each($t1)) {
    echo "Valeur: $valeur";
  }
</PRE
>
</P
><P
>&#13;La fonction <B
CLASS="command"
>foreach()</B
> est bien adapt√©e au parcours
d'un tableau, quelque soit le type de cl√© utilis√©. 
On extrait les valeurs associ√©es aux cl√©s directement avec quelquechose
comme :
<PRE
CLASS="programlisting"
>&#13;  foreach($t1 as $valeur) {
    echo "Valeur: $valeur";
  }
</PRE
>
</P
><P
>&#13;Tandis qu'on peut acc√©der √† la fois √† la cl√© et √† la valeur de la mani√®re
suivante :
<PRE
CLASS="programlisting"
>&#13;  foreach($t1 as $cle =&#62; $valeur) {
    echo "A $cle est associ√© $valeur";
  }
</PRE
>
</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c82.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x279.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PHP</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c82.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Les fonctions</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>